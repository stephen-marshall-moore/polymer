<!--
@license
Copyright (c) 2015 The Blog Elliptic Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
-->

<dom-module id="static-item">
  <style>
    :host {
      display: block;
      background: #868686;
    }

    .iron-selected {
      background: #eee;
    }
  </style>

  <template>
    <content></content>
  </template>

  <script>
    (function () {
      Polymer({
        is: 'static-item',

        properties: {
        itemUrl: {
            type: String,
            value: '/404.html'
          },
        }, //properties

        ready: function() {
          this.importFragment();
        },

        importFragment: function() {
          if (this.itemUrl) {
            console.log( "static-item import at root"); //+ this.$.root.id);

            this.importHref( this.itemUrl,
                function(evt) {
                  var link = evt.target;
                  var doc = link.import;
                  if( doc === null ) {
                    console.log( "nothing to import @ " + link.href );
                  } else {
                    //var ns = Polymer.dom(this.$.content).childNodes[0];
                    //for( n in ns ) {
                    //if(ns) { Polymer.dom(this.$.content).removeChild(ns); }
                    //}

                    console.log( "appending: " + this.itemUrl);
                    var el = doc.body.children[0];
                    //Polymer.dom(this.root).appendChild(el.cloneNode(true));
                    this.appendChild(el.cloneNode(true));
                    //this.translate3d(0,-64,0);
                    //Polymer.dom.flush();
                    //this.flush();
                    //var pgs = document.getElementById('fefe');         
                    //pgs.notifyResize();
                    this.fire('resize');
                    //var pnl = document.getElementById('gigi');         
                    //pnl.measureHeaderHeight();
                  }
                },
                function() {
                  console.log("static-item: import error");
                  page.show('/404.html');
                });
          }
      },  //importFragment


      }); //polymer
    })();
  </script>

</dom-module>
